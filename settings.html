<html>
  <head>
    <title>Recite</title>
    <style>
      body {
        font-family: 'Source Sans Pro', sans-serif;
        color: #2b2b2b;
        padding-top: 50px;
        padding-left: 20px;
        padding-right: 40px;
      }
      .title-icon {
        width: 40px;
        height: 40px;
        margin-right: 16px;
      }
      .title-container {
        display: flex;
        align-items: center;
      }
      .subtitle-container {
        margin-left: 57px;
      }
      h2 {
        font-size: 20px;
      }
      h3 {
        font-size: 18px;
      }
      p, a {
        font-size: 16px;
      }
      button {
        padding: 10px;
        background-color: #4d82f5;
        border-radius: 4px;
        outline: none;
        color: #fff;
        border-width: 0px;
        display: inline-block;
        font-family: 'Source Sans Pro', sans-serif;
        font-weight: 600;
      }
      button:disabled {
        background-color: #b3b3b3;
      }
      hr {
        border-top: 1px solid #c7c7c7;
      }
      input[type="url"].form-url {
        border-radius: 4px;
        border-width: 1px;
        padding: 8px 10px;
        min-width: 300px;
        border-color: #b1b1b1;
        border-style: solid;
      }
      ::placeholder {
        color: #c7c7c7;
      }
      input.form-submit  {
        background-image: url(/images/btn_google_signin_light_normal_web@2x.png);
        /* background-color: #4d82f5; */
        background-repeat: no-repeat;
        background-size: 150px;
        width: 150px;
        color: #fff;
        border-radius: 4px;
        border: none;
        box-shadow: none;
        font-family: 'Source Sans Pro', sans-serif;
        font-weight: 600;
        padding: 10px;
        margin-left: 4px;
      }
      input.form-submit:disabled {
        background-image: url(/images/btn_google_signin_light_disabled_web@2x.png);
      }
      input.form-submit:hover:active {
        background-image: url(/images/btn_google_signin_light_focus_web@2x.png);
      }
      select {
        margin-block-start: 8px;
      }
      /* Color Settings */
      .section-explainer {
        margin-top: 36px;
      }
      .color-settings {
        margin-top: 30px;
        margin-bottom: 20px;
        display: flex;
        flex-direction: row;
      }
      .color-settings-selector {
        min-width: 370px;
        max-width: 630px;
        width: 50vw;
        margin-right: 16px;
      }
      /* Example Quote */
      .color-settings-example {
      	/* margin: auto; */
        background-color: #fff;
        padding: 20px;
        border-radius: 12px;
      }
      .quote-example-container {
        position: relative;
        width: 500px;
      }
      .quote-example-text {
        border-radius: 12px;
        text-align: center;
        font-family: 'Ibarra Real Nova', serif;
        color: #000;
        padding: 40px;
        
        line-height: 28px;
        background-color: #f7f7f7;
      }
      .quote-example-text > p {
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 3; /* number of lines to show */
        line-clamp: 3; 
        -webkit-box-orient: vertical;
        font-size: 18px;
      }
      .quote-example-icon {
        position: absolute;
        color: #808080;
        font-size: 70px;
        opacity: 20%;
        font-family: 'Ibarra Real Nova', serif;
        -webkit-user-select: none; /* Safari */        
        -moz-user-select: none; /* Firefox */
        -ms-user-select: none; /* IE10+/Edge */
        user-select: none; /* Standard */
      }
      .quote-left {
        top: 0px;
        left: 12px;
      }
      .quote-right {
        right: 12px;
        bottom: 8px;
      }
      .quote-example-attr-text {
        font-family: 'Source Sans Pro', sans-serif;
        color: #000;
        font-size: 16px;
        font-weight: 300;
        margin: 20px auto;
        text-align: center;
      }
      /* Color Selector Buttons */
      .color-button {
        border-radius: 16px;
        margin-left: 4px;
        margin-right: 4px; 
        border-color: #73ccff;
        border-style: solid;
        border-width: 0px;
      }
      .color-button.gray {
        background-color: #9d9d9d;
      }
      .color-button.blue {
        background-color: #1d9dec;
      }
      .color-button.purple {
        background-color: #6954cf;
      }
      .color-button.green {
        background-color: #269d3c;
      }
      .color-button.peach {
        background-color: #ffbbaf;
      }
      .color-settings-test-spreadsheet {
        margin-top: 30px;
        display: none;
      }
      /* Source Settings */
      .source-settings {
        margin-top: 30px;
      }
      .enter-spreadsheet-section {
        margin-top: 24px;
        display: none;
      }
      .saved-spreadsheet-section {
        margin-top: 24px;
        display: none;
      }
      .spreadsheet-settings-action {
        margin-top: 8px;
      }
      .settings-explainer {
        color: #8d8d8d;
        font-size: 16px;
        margin-bottom: 1.2em;
      }
      #spreadsheet-form {
        display: flex;
        align-items: center;
      }
      .spreadsheet-input-error, .spreadsheet-form-error {
        display: none;
        color: #ff5e5e;
      }
      .spreadsheet-link-container {
        display: flex;
        align-items: center;
      }
      .spreadsheet-link-icon {
        width: 15px;
        height: 20px;
        margin-right: 8px;
      }
      /* Spreadsheet Sync Settings */
      .spreadsheet-sync-settings {
        margin-top: 20px;
        display: none;
      }
      .spreadsheet-settings-column {
        display: flex;
      }
      .spreadsheet-settings-title {
        margin-right: 24px;
        width: 100px;
        min-width: 100px;
      }
      .spreadsheet-settings-content {
        width: 540px;
        min-width: 400px;
      }
      .spreadsheet-detail-header {
        font-weight: 600;
      }
      .spreadsheet-settings-detail-row {
        margin-bottom: 20px;
      }
      .spreadsheet-settings-detail-row > p {
        margin-block-start: 0em;
        margin-block-end: 0.5em;
      }
      /* Spreadsheet Column Settings */
      .spreadsheet-column-settings {
        margin-top: 20px;
        display: none;
      }
      .spreadsheet-column-error {
        display: none;
        color: #ff5e5e;
      }   
      /* Source */
      .source {
        position: fixed;
        right: 40px;
        bottom: 16px;
        background-color: rgba(255, 255, 255, 0.5);
        padding-left: 10px;
        padding-right: 10px;
        color: #737373;
      }
      .source > p {
        font-size: 14px;
      }
      .source > p > a {
        font-size: 14px;
        color: #1d9dec;
      }
    </style>
    <script type="module" src="lodash.js"></script>
    <script type="module" src="settings.js"></script>
  </head>
  <body>
    <div class="title-container">
      <img class="title-icon" src="images/recite-128.png" />
      <h1>Recite</h1>
    </div>
    <div class="subtitle-container">
      <p>Remember all your saved quotes and highlights.</p>
    </div>
    <div class="color-settings">
      <div class="color-settings-selector">
        <h3>Tab Display</h3>
        <hr />
        <p class="section-explainer">Select the color scheme for new tabs.</p>
        <div class="color-settings-button-container">
          <button class="color-button gray" id="color-gray"></button>
          <button class="color-button blue" id="color-blue"></button>
          <button class="color-button purple" id="color-purple"></button>
          <button class="color-button green" id="color-green"></button>
          <button class="color-button peach" id="color-peach"></button>
        </div>
        <div class="color-settings-test-spreadsheet">
          <p>Test with a quote from your spreadsheet.</p>
        <button class="test-quote">Load sample quote</button>
      </div>
      </div>
      <div class="color-settings-example">
        <div class="quote-example-container">
          <div class="quote-example-text">
            <p>This is an example quote showing the new tab colors. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          </div>
          <div class="quote-example-icon quote-left"><span>&#8220;</span></div>
          <div class="quote-example-icon quote-right"><span>&#8221;</span></div>
          <div class="quote-example-attr-text">&#8212; Author, <i>Source</i></div>
        </div> 
      </div>
    </div>
  </div>
    <div class="source-settings">
      <h3>Quote Settings</h3>
      <hr />
      <div class="enter-spreadsheet-section">
        <div class="spreadsheet-settings-column">
          <div class="spreadsheet-settings-title"><p><b>Spreadsheet</b></p></div>
          <div class="spreadsheet-settings-content">
            <p class="settings-explainer">Add a Google spreadsheet link to start displaying your saved quotes. Use this template to get started: <a href="https://docs.google.com/spreadsheets/d/1TsE9HSxYSaYHVrgprOMYRpm6N5E96F8bejeff_t9nqc/edit#gid=0">Recite Extension - TEMPLATE</a></p>
            <p class="spreadsheet-input-error"></p>
            <form id="spreadsheet-form">
              <input class="form-url" id="source-url-input" type="url" placeholder="https://docs.google.com/spreadsheets/d/..."></input>
              <input class="form-submit" id="signin-submit" type="submit" value="" disabled></input>
            </form>
          </div>
        </div>
      </div>
      <div class="saved-spreadsheet-section" >
        <div class="spreadsheet-settings-column">
          <div class="spreadsheet-settings-title"><p><b>Spreadsheet</b></p></div>
          <div class="spreadsheet-settings-content">
            <p class="settings-explainer">Quotes will be loaded from this spreadsheet. Click the clear button to remove this spreadsheet as the source for quotes.</p>
            <p class="spreadsheet-form-error"></p>
            <div class="spreadsheet-link-container">
              <img class="spreadsheet-link-icon" src="images/google-sheets-icon.png" />
              <a id="spreadsheet-link"></a>
            </div>
          </div>  
          <div class="spreadsheet-settings-action">
            <button class="clear-source">Clear</button>
          </div>      
        </div>
      </div>
      <div class="spreadsheet-sync-settings">
        <div class="spreadsheet-settings-column">
          <div class="spreadsheet-settings-title"><p><b>Details</b></p></div>
          <div class="spreadsheet-settings-content">
            <p class="settings-explainer">Sync to pull in any new rows or columns that have been added to the spreadsheet.</p>
            <div class="spreadsheet-settings-detail-row">
              <p><b>Sheet title</b></p>
              <p id="spreadsheet-detail-title">None</p>
            </div>
            <div class="spreadsheet-settings-detail-row">
              <p><b>Number of rows</b></p>
              <p id="spreadsheet-detail-rows">None</p>
            </div>
            <div class="spreadsheet-settings-detail-row">
              <p><b>Number of columns</b></p>
              <p id="spreadsheet-detail-columns">None</p>
            </div>
          </div> 
          <div class="spreadsheet-settings-action">
            <button class="sync-button">Sync</button>
          </div>
        </div>
      </div>
      <div class="spreadsheet-column-settings">
        <div class="spreadsheet-settings-column">
          <div class="spreadsheet-settings-title"><p><b>Columns</b></p></div>
          <div class="spreadsheet-settings-content">
            <p class="settings-explainer">Change columns to configure how the quote is displayed.</p>
            <div class="spreadsheet-settings-detail-row">
              <p><b>Quote</b></p>
              <div id="spreadsheet-column-quote"><p>None</p></div>
            </div>
            <div class="spreadsheet-settings-detail-row">
              <p><b>Author</b></p>
              <div id="spreadsheet-column-author"><p>None</p></div>
            </div>
            <div class="spreadsheet-settings-detail-row">
              <p><b>Source</b></p>
              <div id="spreadsheet-column-source"><p>None</p></div>
            </div>
            <div class="spreadsheet-settings-detail-row">
              <p><b>Link</b></p>
              <div id="spreadsheet-column-link"><p>None</p></div>
            </div>
            <div id="spreadsheet-column-error"><p>Please correct the following errors</p></div>
          </div>
          <div class="spreadsheet-settings-action">
            <button class="edit-columns">Edit</button>
            <button class="save-columns" style="display: none;">Save</button>
          </div>
        </div>
      </div>
    </div>
    <div class="source"><p>Built by <a href="https://vivqu.com/" target="_blank">Vivian Qu</a></p></div>
  </body>
</html>